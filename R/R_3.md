# R语言的数据对象(二)：列表和数据框

---

向量和矩阵（数组）是R语言中高效且方便的数据存储结构，但是有它们均只能存储一种类型的数据。而列表和数据框则可以一次性储存多种类型的数据。

## 列表

- 列表可以存储多种类型的R结构和对象。包含数值型矩阵、逻辑型数组、字符串等，甚至可以包含其它列表。

### 创建列表

- `list()`函数用于创建列表，与`c()`创建向量类似，仅需依次输入元素并用逗号隔开

```
> A <- matrix(data=1:4, nrow=2)
> B <- c(T,T,F,F)
> C <- c("Yes","No","SOSO")
> foo <- list(A,B,C)
> foo
[[1]]
     [,1] [,2]
[1,]    1    3
[2,]    2    4

[[2]]
[1]  TRUE  TRUE FALSE FALSE

[[3]]
[1] "Yes"  "No"   "SOSO" 
```

- 可以使用`names()`函数对列表中的元素进行命名（重命名），也可以在定义列表时直接进行命名

```
# 使用names()进行命名
> names(foo) <- c("matrix.A","logic.B","char.C")
> foo
$matrix.A
     [,1] [,2]
[1,]    1    3
[2,]    2    4

$logic.B
[1]  TRUE  TRUE FALSE FALSE

$char.C
[1] "Yes"  "No"   "SOSO" 

# 直接在定义是进行命名
> foo2 <- list(matix=A,logic=B,char=C)
> foo2
$matix
     [,1] [,2]
[1,]    1    3
[2,]    2    4

$logic
[1]  TRUE  TRUE FALSE FALSE

$char
[1] "Yes"  "No"   "SOSO" 
```

### 列表的索引

- 使用单中括号进行索引
  
  使用单中括号进行索引提取的是对应组件构成的列表，组件按照命令中的顺序排列。这种操作也被称为**列表切片**
  
  ```
  > foo[c(3,1)]
  $char.C
  [1] "Yes"  "No"   "SOSO"
  
  $matrix.A
       [,1] [,2]
  [1,]    1    3
  [2,]    2    4 
  
  # 输出的是仅有一个组件的列表
  > foo[3]
  $char.C
  [1] "Yes"  "No"   "SOSO"
  ```

- 使用双中括号进行索引，使用$名称进行索引
  
  这两种引用方式均是**引用组件**，返回组件本身而不是返回列表。
  
  ```
  > foo[[3]]
  [1] "Yes"  "No"   "SOSO" 
  > foo$char.C
  [1] "Yes"  "No"   "SOSO" 
  > all(foo[[3]]==foo$char.C)
  [1] TRUE 
  
  foo[[1]][1,2] 
  [1] 3 
  # 可以对组件内的子集进行索引
  ```

## 数据框

- 数据框是由一个或多个变量构成的数据集，数据框对变量的类型没有约束，但数据框要求所有的组件必须是长度相同的向量
